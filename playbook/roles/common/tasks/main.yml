---
# Installing common things

- name: Add PPAs
  apt_repository:
    repo={{item}}
    state=present
    update_cache=yes
  with_items:
    - ppa:git-core/ppa
  sudo: yes

- name: Install packages
  apt:
    name={{item}}
    state=latest
  with_items:
    - vim
    - zsh
    - tmux
    - htop
    - git
  sudo: yes

- name: Installing vundle
  git:
    repo=https://github.com/gmarik/Vundle.vim.git
    dest=~/.vim/bundle/Vundle.vim

- name: Install vim plugins
  command: vim +PluginInstall +qall

- name: Install oh-my-zsh
  git:
    repo=https://github.com/robbyrussell/oh-my-zsh.git
    dest=~/.oh-my-zsh

- name: Change default shell to zsh
  user:
    name={{username}}
    shell=/usr/bin/zsh
  sudo: yes
